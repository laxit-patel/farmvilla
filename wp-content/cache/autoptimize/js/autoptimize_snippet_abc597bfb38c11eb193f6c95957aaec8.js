jQuery(function($){'use strict';var o=$({});$.subscribe=function(){o.on.apply(o,arguments);};$.unsubscribe=function(){o.off.apply(o,arguments);};$.publish=function(){o.trigger.apply(o,arguments);};var DOM=(function(dom){var dom=dom||{},wptwaFlag=$('.wptwa-flag');dom.body=$('body:eq(0)');dom.isSmallScreen=(window.getComputedStyle(wptwaFlag.get(0),':after').content=='"small"'||window.getComputedStyle(wptwaFlag.get(0),':after').content=='small')?true:false;dom.isMobileScreen=(window.getComputedStyle(wptwaFlag.get(0),':after').content=='"mobile"'||window.getComputedStyle(wptwaFlag.get(0),':after').content=='mobile')?true:false;dom.isLargeScreen=(window.getComputedStyle(wptwaFlag.get(0),':after').content=='"desktop"'||window.getComputedStyle(wptwaFlag.get(0),':after').content=='desktop')?true:false;return dom;}(DOM));var COOKIES=(function(cookies){var cookies=cookies||{};cookies.setItem=function(name,value,durationInDays){var d=new Date();d.setTime(d.getTime()+(durationInDays*24*60*60*1000));var expires='expires='+d.toUTCString();document.cookie=name+'='+value+';'+expires+';path=/';};cookies.getItem=function(name){var name=name+'=',decodedCookie=decodeURIComponent(document.cookie),ca=decodedCookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1);}
if(c.indexOf(name)==0){return c.substring(name.length,c.length);}}
return null;}
cookies.deleteItem=function(name){document.cookie=name+'=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';};return cookies;}(COOKIES));(function(){$.subscribe('wptwa-widget-ready',function(){var container=$('.wptwa-container'),box=container.find('.wptwa-box'),description=container.find('.wptwa-description'),toggle=container.find('.wptwa-toggle'),peopleList=container.find('.wptwa-people');peopleList.css({maxHeight:$(window).height()-(description.outerHeight()+parseInt(box.css('bottom'))+20)});});}());(function(){var neverBeenResized=true;$.subscribe('wptwa-widget-ready',function(){var wptwa=DOM.body.find('.wptwa-container'),toggleBox=function(e){wptwa.toggleClass('wptwa-show');if(!COOKIES.getItem('wptwa')){COOKIES.setItem('wptwa','toggled',1);}};$.subscribe('wptwa-toggle-box',toggleBox);});}());(function(){$.subscribe('wptwa-widget-ready',function(){var wptwaFlag=DOM.body.find('.wptwa-flag'),wptwa=DOM.body.find('.wptwa-container'),delayTime=parseInt(wptwa.data('delay-time')),inactiveTime=parseInt(wptwa.data('inactive-time')),scrollLength=parseInt(wptwa.data('scroll-length')),autoDisplayOnMobile=wptwa.data('auto-display-on-mobile'),box=wptwa.find('.wptwa-box'),toggle=wptwa.find('.wptwa-toggle'),close=wptwa.find('.wptwa-close'),bottomClose=wptwa.find('.wptwa-mobile-close'),autoShow;if(!wptwa.length||!wptwaFlag.length){return;}
box.addClass('wptwa-js-ready');toggle.add(close).add(bottomClose).on('click',function(){$.publish('wptwa-toggle-box');});if(DOM.isSmallScreen&&wptwa.is('.wptwa-disable-auto-display-on-small-screen')){return;}
if(delayTime>0){autoShow=setTimeout(function(){if(!box.is('.wptwa-show')&&!COOKIES.getItem('wptwa')){$.publish('wptwa-toggle-box');}},delayTime*1000);}
var cb,executed=false,events='mousemove mousedown mouseup onkeydown onkeyup focus scroll',showAfterInactivity=function(){clearTimeout(cb);if(!executed){cb=setTimeout(function(){if(!COOKIES.getItem('wptwa')&&!box.is('.wptwa-show')){$.publish('wptwa-toggle-box');}
$(document).off(events,showAfterInactivity);},inactiveTime*1000);}};if(inactiveTime>0){$(document).on(events,showAfterInactivity);}
var percentage=Math.abs(scrollLength)/100,scrolling,timing=true,scrollHandler=function(){scrolling=true;if(timing){setTimeout(function(){if($(window).scrollTop()>=($(document).height()-$(window).height())*percentage){if(!COOKIES.getItem('wptwa')&&!box.is('.wptwa-show')){$.publish('wptwa-toggle-box');}
$(window).off('scroll',scrollHandler);}
timing=true;scrolling=false;},500);if(scrolling){timing=false;}}};if(scrollLength>0){$(window).on('scroll',scrollHandler);}});}());(function(){$.subscribe('wptwa-widget-ready',function(){DOM.body.find('.wptwa-container .wptwa-face').each(function(){var el=$(this),img=el.find('img'),noImage=true;if(img.length){var url=img.attr('src'),tester=new Image();tester.src=url;tester.onerror=function(){el.addClass('no-image');};}
else{el.addClass('no-image');}});});}());(function(){var alterURL=function(){var wptwaAccounts=DOM.body.find('a.wptwa-account'),wptwaFlag=DOM.body.find('.wptwa-flag');if(!wptwaFlag.length){return;}
if(DOM.isLargeScreen){wptwaAccounts.each(function(){var el=$(this),number=el.data('number'),text=el.data('auto-text');if(''===number){return true;}
el.attr('href','https://web.whatsapp.com/send?phone='+number+'&text='+text);});}
else{if(window.location===window.parent.location){wptwaAccounts.removeAttr('target');}}};alterURL();$.subscribe('wptwa-widget-ready',function(){alterURL();});$.subscribe('wptwa-woo-ready',function(){alterURL();});$.subscribe('wptwa-button-ready',function(){alterURL();});}());(function(){var wptwasw=DOM.body.find('#wptwa-show-widget');if(wptwasw.length<1){return;}
var data={'action':'wptwa_display_widget','when':Date.now(),'current-language':wptwasw.data('current-language'),'ids':wptwasw.data('ids'),'page-title':wptwasw.data('page-title'),'page-url':wptwasw.data('page-url')};$.post(ajax_object.ajax_url,data,function(response){if('no-show'===response){return;}
var hideOnLargeScreen=true,hideOnSmallScreen=true;$(response).find('.wptwa-account').each(function(){var el=$(this);if(DOM.isLargeScreen&&!el.is('.wptwa-hide-on-large-screen')){hideOnLargeScreen=false;}
if((DOM.isSmallScreen||DOM.isMobileScreen)&&!el.is('.wptwa-hide-on-small-screen')){hideOnSmallScreen=false;}});if((DOM.isLargeScreen&&!hideOnLargeScreen)||((DOM.isMobileScreen||DOM.isSmallScreen)&&!hideOnSmallScreen)){$(response).appendTo(DOM.body);}
setTimeout(function(){$.publish('wptwa-widget-ready');},100);});}());(function(){$.subscribe('wptwa-widget-ready',function(){if(COOKIES.getItem('consent')){DOM.body.find('.wptwa-gdpr').remove();}});DOM.body.on('click','a.wptwa-account',function(e){var el=$(this),number=parseInt(el.data('number')),gaLabel=el.data('ga-label'),parent=el.parents('.wptwa-people'),gdpr=parent.find('.wptwa-gdpr'),confirmation=gdpr.find('.wptwa-confirmation'),consent=gdpr.find('#wptwa-consent'),to;if(consent.length&&!consent.is(':checked')){confirmation.addClass('wptwa-blink');confirmation.one('animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd',function(){confirmation.removeClass('wptwa-blink');});e.preventDefault();return false;}
if(el.closest('.wptwa-container').length){COOKIES.setItem('consent','acquired',1);gdpr.remove();}
try{gtag('event','Button Clicked',{'event_category':'WhatsApp Click to Chat','event_label':'WhatsApp Account: '+gaLabel});}
catch(error){window.console&&console.log('Catched from WhatsApp Click to Chat: '+error.message);}
try{ga('send','event','WhatsApp Click to Chat','Button Clicked','WhatsApp Account: '+gaLabel);}
catch(error){window.console&&console.log('Catched from WhatsApp Click to Chat: '+error.message);}
try{_gaq.push(['_trackEvent','WhatsApp Click to Chat','Button Clicked','WhatsApp Account: '+gaLabel]);}
catch(error){window.console&&console.log('Catched from WhatsApp Click to Chat: '+error.message);}
try{dataLayer.push({'event':'customEvent','eventCategory':'WhatsApp Click to Chat','eventAction':'Button Clicked','eventLabel':'WhatsApp Account: '+gaLabel});}
catch(error){window.console&&console.log('Catched from WhatsApp Click to Chat: '+error.message);}
var pixeled=false;try{if(!pixeled){fbq('trackCustom','ClickToChat',{event:'Chat started',account:gaLabel});pixeled=true;}}
catch(error){window.console&&console.log('Catched from WhatsApp Click to Chat: '+error.message);}});}());(function(){var ids=[],pageURL='',pageTitle='';DOM.body.find('.wptwa-button-container').each(function(){var el=$(this),id=el.data('target-id');pageURL=el.data('page-url');pageTitle=el.data('page-title');ids.push(id);});if(ids.length<1){return;}
var data={'action':'wptwa_display_buttons','when':Date.now(),'ids':ids.join(','),'page-title':pageTitle,'page-url':pageURL};$.post(ajax_object.ajax_url,data,function(response){if(response==='none'){return false;}
var data=JSON.parse(response);for(var key in data){if(data.hasOwnProperty(key)){var val=data[key];DOM.body.find('.wptwa-button-container#wptwa-button-'+val.id).append(val.content);var index=ids.indexOf(val.id);if(index>-1){ids.splice(index,1);}}}
for(var i=0,limit=ids.length;i<limit;i++){DOM.body.find('.wptwa-button-container#wptwa-button-'+ids[i]).remove();}
setTimeout(function(){$.publish('wptwa-button-ready');},100);});}());(function(){var ids='',pageURL='',pageTitle='';DOM.body.find('.wptwa-wc-buttons-container').each(function(){var el=$(this);pageURL=el.data('page-url');pageTitle=el.data('page-title');ids=el.data('ids');});if(ids.length<1){return;}
var data={'action':'wptwa_display_buttons','when':Date.now(),'ids':ids,'type':'woocommerce_button','page-title':pageTitle,'page-url':pageURL};$.post(ajax_object.ajax_url,data,function(response){if(response==='none'){return false;}
var data=JSON.parse(response);for(var key in data){if(data.hasOwnProperty(key)){var val=data[key];DOM.body.find('.wptwa-wc-buttons-container').append($('<p>'+val.content+'</p>'));}}
setTimeout(function(){$.publish('wptwa-woo-ready');},100);});}());(function(){}());});